(this["webpackJsonptest-task-users-and-form"]=this["webpackJsonptest-task-users-and-form"]||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(16),s=a.n(r),c=a(28),i=a(13),u=a(20),l=a(8),o={users:[]},j="GET_ALL_USERS",d="ADD_USERS",b="GET_USERS",m="UPDATE_USERS",O=a(26),h=a(27),p=Object(i.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(l.a)(Object(l.a)({},e),{},{users:[].concat(Object(u.a)(e.users),Object(u.a)(t.users))});case d:return Object(l.a)(Object(l.a)({},e),{},{users:[].concat(Object(u.a)(e.users),[t.users])});case m:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.findIndex((function(e){return e.id===t.users.id}))});case b:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.users}))});default:return e}}}),f=Object(i.createStore)(p,Object(O.composeWithDevTools)(Object(i.applyMiddleware)(h.a))),x=a(14),v=a.n(x),N=a(23),g=a(4),S=(a(37),a(15)),U=a(3),_=(a(38),a(39),a(1)),y=function(e){for(var t=e.cardsOnPage,a=e.allCards,n=e.paginate,r=[],s=1;s<=Math.ceil(a/t);s++)r.push(s);return Object(_.jsx)("ul",{className:"list",children:r.map((function(e){return Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:"list__link",onClick:function(){return n(e)},href:"#",children:e})},e)}))})},k=(a(41),a(42),function(e){var t=e.onAddUser,a=Object(n.useState)(""),r=Object(g.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(""),u=Object(g.a)(i,2),l=u[0],o=u[1],j=Object(n.useState)(""),d=Object(g.a)(j,2),b=d[0],m=d[1],O=Object(n.useState)(""),h=Object(g.a)(O,2),p=h[0],f=h[1],x=Object(n.useState)(!1),v=Object(g.a)(x,2),N=v[0],S=v[1],U=Object(n.useState)(!1),y=Object(g.a)(U,2),k=y[0],C=y[1],D=Object(n.useState)(!1),E=Object(g.a)(D,2),T=E[0],A=E[1];return Object(_.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),s||S(!0),l||C(!0),b?(t({name:s,surname:l,desc:b,avatar:p}),c(""),o(""),m(""),f("")):A(!0)},children:[Object(_.jsxs)("div",{className:"mb-3",children:[Object(_.jsx)("label",{htmlFor:"exampleInputName",className:"form-label",children:"Your Name*"}),Object(_.jsx)("input",{type:"text",className:"form-control",id:"exampleInputName",value:s,onChange:function(e){var t=e.target;c(t.value),S(!1)}}),N&&Object(_.jsx)("div",{className:"form__error form__error--name",children:"This field is required"})]}),Object(_.jsxs)("div",{className:"mb-3",children:[Object(_.jsx)("label",{htmlFor:"exampleInputSurename",className:"form-label",children:"Your Surename*"}),Object(_.jsx)("input",{type:"text",className:"form-control",id:"exampleInputSurename",value:l,onChange:function(e){var t=e.target;o(t.value),C(!1)}}),k&&Object(_.jsx)("div",{className:"form__error form__error--surename",children:"This field is required"})]}),Object(_.jsxs)("div",{className:"mb-3",children:[Object(_.jsx)("label",{htmlFor:"exampleInputDescription",className:"form-label",children:"Your Description*"}),Object(_.jsx)("input",{type:"text",className:"form-control",id:"exampleInputDescription",value:b,onChange:function(e){var t=e.target;m(t.value),A(!1)}}),T&&Object(_.jsx)("div",{className:"form__error form__error--description",children:"This field is required"})]}),Object(_.jsxs)("div",{className:"mb-3",children:[Object(_.jsx)("label",{htmlFor:"exampleInputAvatar",className:"form-label",children:"Link on your Avatar"}),Object(_.jsx)("input",{type:"text",className:"form-control",id:"exampleInputAvatar",value:p,onChange:function(e){var t=e.target;return f(t.value)}})]}),Object(_.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:N||k||T,children:"Submit"})]})}),C=function(e){var t=e.user,a=e.onUpdateUser,r=e.onDeleteUser,s=Object(n.useState)(!1),c=Object(g.a)(s,2),i=c[0],u=c[1],o=function(){return u(!1)};return i?Object(_.jsxs)("div",{className:"edit",children:[Object(_.jsx)(k,{user:t,onAddUser:function(e){a(Object(l.a)(Object(l.a)({},t),e)),o()}}),Object(_.jsx)("button",{className:"edit__button",onClick:o,children:"Cancel"})]}):Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"card__wrapper",children:[t.avatar?Object(_.jsx)("img",{src:t.avatar,className:"img",alt:"avatar"}):Object(_.jsx)("div",{className:"img__none",children:Object(_.jsx)("span",{children:t.name.substr(0,1).toUpperCase()})}),Object(_.jsxs)("div",{className:"card-body",children:[Object(_.jsxs)("h5",{className:"card-title",children:[t.name," ",t.surname]}),Object(_.jsx)("p",{className:"card-text",children:t.desc}),Object(_.jsx)("button",{className:"bg-primary",onClick:function(){return u(!0)},children:"Update"}),Object(_.jsx)("button",{className:"bg-danger",onClick:r,children:"Delete"})]})]})})};C.defaultProps={avatar:null};var D=function(e){var t=e.users,a=e.onUpdateUser,r=e.onDeleteUser,s=Object(n.useState)(1),c=Object(g.a)(s,2),i=c[0],u=c[1],l=Object(n.useState)(5),o=Object(g.a)(l,1)[0],j=i*o,d=j-o,b=t.slice(d,j);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"cards",children:b.map((function(e){return Object(_.jsx)("div",{className:"card",children:Object(_.jsx)(C,{user:e,onUpdateUser:a,onDeleteUser:function(){return r(e.id)}})},e.id)}))}),Object(_.jsx)(y,{cardsOnPage:o,allCards:t.length,paginate:function(e){return u(e)}})]})},E=function(e){var t=e.id,a=e.name,n=e.surname,r=e.desc,s=e.avatar;return fetch("http://77.120.241.80:8811/api/user/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,name:a,surname:n,desc:r,avatar:s})}).then((function(e){return e.json()}))},T=function(e){return fetch("http://77.120.241.80:8811/api/user/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))};var A=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],r=t[1],s=function(){fetch("http://77.120.241.80:8811/api/users").then((function(e){return e.json()})).then(r)};Object(n.useEffect)((function(){s()}),[]);var c=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(S.a,{children:Object(_.jsxs)("div",{children:[Object(_.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(_.jsxs)("div",{className:"navbar-nav",children:[Object(_.jsx)(S.b,{className:"nav-link",to:"/home",children:"Home"}),Object(_.jsx)(S.b,{className:"nav-link",to:"/users",children:"Users"}),Object(_.jsx)(S.b,{className:"nav-link",to:"/form",children:"Form"})]})}),Object(_.jsxs)("div",{style:{flex:1,padding:"10px"},children:[Object(_.jsx)(U.a,{path:"/home",children:Object(_.jsx)("h1",{children:"USERS APP"})}),Object(_.jsx)(U.a,{path:"/users",children:Object(_.jsx)(D,{users:a,onUpdateUser:c,onDeleteUser:i})}),Object(_.jsx)(U.a,{path:"/form",children:Object(_.jsx)(k,{onAddUser:function(e){(function(e){var t=e.name,a=e.surname,n=e.desc,r=e.avatar;return fetch("http://77.120.241.80:8811/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,surname:a,desc:n,avatar:r})}).then((function(e){return e.json()}))})(e).then(s)}})})]})]})})})};a(44);s.a.render(Object(_.jsx)(c.a,{store:f,children:Object(_.jsx)(A,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.494403a1.chunk.js.map